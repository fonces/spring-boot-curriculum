# Spring Boot カリキュラム ドキュメント作成ルール

このドキュメントは、Spring Boot 3.5.7カリキュラムのステップガイドを作成する際の統一ルールを定義します。

---

## 📁 ファイル構成ルール

### ディレクトリ構造

```
spring-boot-curriculum/
├── README.md                          # カリキュラム全体の概要
├── curriculums/
│   ├── phase1/                        # Phase 1: Spring Boot基礎
│   │   ├── STEP_1.md
│   │   ├── STEP_2.md
│   │   ├── STEP_3.md
│   │   ├── STEP_4.md
│   │   └── STEP_5.md
│   ├── phase2/                        # Phase 2: データベース連携
│   │   ├── STEP_6.md
│   │   ├── STEP_7.md
│   │   └── ...
│   ├── phase3/                        # Phase 3: アーキテクチャとベストプラクティス
│   │   ├── STEP_12.md
│   │   └── ...
│   ├── phase4/                        # Phase 4: セキュリティとテスト
│   │   ├── STEP_17.md
│   │   └── ...
│   ├── phase5/                        # Phase 5: 実践的な機能
│   │   ├── STEP_22.md
│   │   └── ...
│   └── phase6/                        # Phase 6: 総合演習
│       ├── STEP_26.md
│       └── ...
├── examples/                          # サンプルコード（オプション）
│   ├── phase1/
│   │   ├── step-1-hello-world/
│   │   ├── step-2-parameters/
│   │   └── ...
│   └── phase2/
│       └── ...
└── .github/
    └── instructions.md                # このファイル
```

### ファイル命名規則

- **ステップガイド**: `curriculums/phaseX/STEP_Y.md` （XはPhase番号、YはStep番号）
- **サンプルコード**: `examples/phaseX/step-y-brief-description/` （小文字、ハイフン区切り）
- **Phase内のステップ番号**: 全体通しの番号を使用（Phase 1は1-5、Phase 2は6-11など）

---

## 📝 ステップガイド（STEP_X.md）の構成

各ステップのドキュメントは以下の構成で作成してください。

### 必須セクション

#### 1. タイトルと目標 (Header)

```markdown
# Step X: [ステップ名]

## 🎯 このステップの目標

- 箇条書きで3〜5個の学習目標
- 具体的で測定可能な目標を記載
- 「〜できる」の形式で記述

**所要時間**: 約XX分
```

**ルール**:
- タイトルはH1 (`#`) を使用
- 目標は明確で具体的に
- 所要時間は30分〜1時間を目安

---

#### 2. 事前準備 (Prerequisites)

```markdown
## 📋 事前準備

- 前のステップで作成したプロジェクト
- 必要なツール/ライブラリのインストール確認
- （必要に応じて）前提知識の確認
```

**ルール**:
- 前のステップとの依存関係を明記
- 新しいツールが必要な場合は確認コマンドも記載

---

#### 3. ステップバイステップの手順

```markdown
## 🚀 ステップ1: [サブタスク名]

### 1-1. [具体的な作業]

（説明文）

**ファイルパス**: `src/.../ClassName.java`

​```java
// コード例
​```

### 1-2. コードの解説

#### `@アノテーション名`
- 説明
- なぜ使うのか
- どう動作するのか
```

**ルール**:
- 大きなステップは `## 🚀 ステップN` で区切る
- 小さなタスクは `### N-1.` で番号付け
- コードブロックには必ず言語指定（```java など）
- ファイルパスは相対パスで明記
- 重要なアノテーションや概念は必ず解説

---

#### 4. 動作確認

```markdown
## ✅ ステップX: 動作確認

### X-1. コマンドで確認

​```bash
curl http://localhost:8080/endpoint
​```

**期待される結果**:
​```
Expected output
​```

### X-2. ブラウザで確認

- URLにアクセス
- 期待される画面・レスポンスを記載
```

**ルール**:
- 必ずcurlコマンドでの確認方法を記載
- 期待される結果を明示
- スクリーンショットの代わりに期待されるレスポンスを文字で記載

---

#### 5. チャレンジ課題（オプション）

```markdown
## 🎨 チャレンジ課題

基本が理解できたら、以下にチャレンジしてみましょう：

### チャレンジ 1: [課題名]

（説明と期待される結果）

​```java
// ヒントコード（完全な解答は避ける）
​```
```

**ルール**:
- 2〜3個のチャレンジを用意
- 難易度は段階的に上げる
- 完全な解答は書かず、ヒントに留める
- 学習者が考える余地を残す

---

#### 6. トラブルシューティング

```markdown
## 🐛 トラブルシューティング

### エラー: "エラーメッセージ"

**原因**: エラーの原因

**解決策**: 具体的な解決方法
```

**ルール**:
- よくあるエラーを3〜5個記載
- エラーメッセージは引用符で囲む
- 原因と解決策をセットで記載
- 解決策は具体的な手順を示す

---

#### 7. まとめ

```markdown
## 📚 このステップで学んだこと

- ✅ 学んだ内容1
- ✅ 学んだ内容2
- ✅ 学んだ内容3
```

**ルール**:
- チェックマーク（✅）で箇条書き
- 3〜7個程度
- 技術用語を含める

---

#### 8. 次のステップへの誘導

```markdown
## ➡️ 次のステップ

[Step X+1: タイトル](STEP_X+1.md)へ進みましょう！

（次のステップで学ぶことの簡単な紹介）
```

**ルール**:
- 相対リンクで次のステップに誘導
- 同じPhase内のステップは `[Step 2](STEP_2.md)` のように相対パス
- 別のPhaseに移る場合は `[Step 6](../phase2/STEP_6.md)` のように記載
- 次に学ぶことを1〜2文で紹介
- 学習意欲を高める文言を使用

---

### オプションセクション

#### 補足説明

```markdown
## 💡 補足: [トピック名]

（より深い理解のための補足情報）
```

**使用例**:
- Spring Bootの内部動作
- アーキテクチャの背景
- ベストプラクティス
- 歴史的経緯

---

## ✍️ 文体とトーン

### 基本方針

- **敬体（です・ます調）** を使用
- **親しみやすく、励ます** トーン
- **専門用語は必ず説明** する
- **ポジティブな表現** を心がける

### 技術スタックに関する方針

このカリキュラムでは以下の技術スタックを採用しています：

- **ビルドツール**: Maven（Gradleは扱いません）
- **IDE**: IntelliJ IDEA Community Edition（Eclipse、VS Codeは扱いません）
- **JDK**: OpenJDK 21

**Mavenに関する記述の注意点**:
- Mavenの基本的な使い方（pom.xml、依存関係管理など）は**カリキュラム内で必要に応じて説明**します
- 学習者がMavenの知識を事前に持っていることを前提としません
- ただし、Maven自体の深堀り（ライフサイクル、プラグイン開発など）は**このカリキュラムのスコープ外**とします
- 必要最小限の使い方（依存関係追加、ビルド、実行）のみ説明し、それ以上は公式ドキュメントを参照させます

### 良い例 ✅

```markdown
このアノテーションを使うことで、コードがシンプルになります。
試しに実行してみましょう！
```

### 悪い例 ❌

```markdown
このアノテーションを使え。
実行しろ。
```

---

## 🎨 フォーマットルール

### 絵文字の使用

各セクションの見出しには絵文字を使用して視覚的にわかりやすくします：

- 🎯 目標
- 📋 事前準備
- 🚀 ステップ/手順
- ✅ 動作確認
- 🎨 チャレンジ課題
- 🐛 トラブルシューティング
- 📚 まとめ/学んだこと
- ➡️ 次のステップ
- 💡 補足
- 📁 ファイル構成
- 🔧 設定/実装
- ▶️ 起動/実行
- 🔒 セキュリティ
- 🧪 テスト
- 📖 参考資料

### コードブロック

- **言語指定は必須**: ` ```java`、` ```bash`、` ```xml` など
- **ファイルパスをコメントまたは直前に記載**
- **重要な部分には inline code を使用**: `@RestController`

### 強調

- **太字**: 重要な用語、キーワード
- *斜体*: 補足的な説明（控えめに使用）
- `インラインコード`: クラス名、メソッド名、ファイル名、コマンド

### リンク

- **内部リンク**: 相対パスで記載 `[Step 2](STEP_2.md)`
- **外部リンク**: 公式ドキュメント優先 `[Spring Boot Reference](https://...)`

---

## 📊 コード例のルール

### コードの完全性

- **動作するコード** を記載（コンパイルエラーがないこと）
- **省略しない**: `// ... 省略` は避け、完全なコードを記載
- **インポート文**: 初出時は含める、以降は省略可

### コード例の構成

```java
package com.example.demo;  // パッケージ宣言

import org.springframework.web.bind.annotation.GetMapping;  // インポート（初回のみ）
import org.springframework.web.bind.annotation.RestController;

@RestController  // アノテーション
public class HelloController {  // クラス定義

    @GetMapping("/hello")  // メソッドアノテーション
    public String hello() {  // メソッド定義
        return "Hello, World!";  // ロジック
    }
}
```

### 段階的な追加

同じファイルに複数のメソッドを追加する場合：

```markdown
以下のメソッドを`HelloController.java`に**追加**します：

​```java
@GetMapping("/goodbye")
public String goodbye() {
    return "Goodbye!";
}
​```
```

**ルール**:
- 「追加」を明記
- 既存コードを再掲しない（混乱を避ける）

---

## 🎓 対象者への配慮

### 前提知識

- **Javaの基礎**: 理解していることを前提
- **オブジェクト指向**: 軽く復習程度は可
- **Spring Boot固有の概念**: 必ず説明

### 説明の粒度

- **初めての概念**: 丁寧に、例を交えて説明
- **Javaの基礎文法**: 簡潔に、または説明不要
- **応用的な内容**: 補足セクションで深掘り

### 例示の重要性

- **抽象的な説明の後には必ず具体例**
- **ユースケースを示す**
- **なぜ必要なのか** を明確に

---

## 📏 分量のガイドライン

### ページ長

- **1ステップ**: 500〜1500行程度（Markdown）
- **読了時間**: 10〜15分
- **実践時間**: 30〜60分

### セクションごとの目安

- **目標**: 3〜5項目
- **手順**: 3〜5ステップ
- **チャレンジ**: 2〜3課題
- **トラブルシューティング**: 3〜5項目

---

## ✅ レビューチェックリスト

ドキュメント作成後、以下を確認してください：

### 内容

- [ ] 目標が明確で測定可能か
- [ ] 手順が順番通りに実行できるか
- [ ] コードが動作するか（実際に試す）
- [ ] エラーメッセージが正確か
- [ ] 専門用語に説明があるか

### 形式

- [ ] 見出しレベルが適切か（H1は1つ、H2で大分類）
- [ ] コードブロックに言語指定があるか
- [ ] ファイルパスが記載されているか
- [ ] 絵文字が適切に使われているか
- [ ] リンクが正しいか（404でないか）

### 文体

- [ ] 敬体（です・ます調）で統一されているか
- [ ] 励ましのトーンがあるか
- [ ] 専門用語の説明があるか
- [ ] 誤字脱字がないか

---

## 🔄 更新とメンテナンス

### バージョン管理

- Spring Bootのバージョンアップ時は全体を見直す
- 非推奨APIが使われていないか確認
- 新機能が活用できるか検討

### フィードバック対応

- 学習者からのフィードバックを積極的に反映
- よくある質問はトラブルシューティングに追加
- わかりにくい箇所は補足説明を追加

---

## 🌟 良い例: Step 16の構成

Step 16（バリデーション）は、このカリキュラムの理想的な構成を示す良い例です。

### 優れている点

#### 1. 導入部分で「なぜ必要か」を明確に説明

```markdown
## 💡 バリデーションとは？

### バリデーションの必要性

**バリデーションなしの場合**:
（実際のコマンド例）

**問題点**:
- ❌ 不正なデータがビジネスロジックに到達
- ❌ データベースレベルでエラー（遅い、わかりにくい）
```

**なぜ良いか**:
- 技術を学ぶ**動機**を与える
- 具体的な**問題**を示す
- **Before/After**を明確にする

#### 2. 視覚的な図解でアーキテクチャを説明

```markdown
### バリデーションのレイヤー

┌───────────────────────────┐
│ Controller                │ ← バリデーション（@Valid）
│ @Valid UserCreateRequest  │
└───────────────────────────┘
         ↓ 検証済みデータ
┌───────────────────────────┐
│ Service                   │ ← ビジネスロジック
└───────────────────────────┘
```

**なぜ良いか**:
- **全体像**が一目でわかる
- **責務の分離**が理解しやすい
- テキストだけより**記憶に残る**

#### 3. 段階的な実装ステップ

```markdown
## 🚀 ステップ1: Bean Validationアノテーション

### 1-1. 依存関係の確認
### 1-2. UserCreateRequestにバリデーション追加

## 🚀 ステップ2: Controllerでの検証

### 2-1. @Validアノテーション追加
### 2-2. 動作確認
```

**なぜ良いか**:
- **小さなステップ**に分解
- 各ステップで**動作確認**ができる
- 初学者でも**迷わない**

#### 4. 実践的なコード例とコメント

```java
/**
 * ユーザー作成リクエストDTO
 */
@Data
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class UserCreateRequest {
    
    @NotBlank(message = "名前は必須です")
    @Size(min = 2, max = 50, message = "名前は2文字以上50文字以内で入力してください")
    private String name;
    
    @NotBlank(message = "メールアドレスは必須です")
    @Email(message = "メールアドレスの形式が正しくありません")
    private String email;
}
```

**なぜ良いか**:
- **Javadoc**で用途を明記
- **日本語のメッセージ**で実務的
- **複数のバリデーション**を組み合わせた例

#### 5. エラーケースの具体的な検証方法

```markdown
### 2-2. 動作確認

**空の名前でリクエスト**:
​```bash
curl -X POST http://localhost:8080/api/users \
  -H "Content-Type: application/json" \
  -d '{"name": "", "email": "test@example.com"}'
​```

**期待される結果** (400 Bad Request):
​```json
{
  "message": "Validation failed",
  "errors": {
    "name": "名前は必須です"
  }
}
​```
```

**なぜ良いか**:
- **正常系だけでなくエラー系**も確認
- **期待される結果**を明示
- 学習者が**自分で検証**できる

#### 6. 段階的な発展課題

```markdown
## 🚀 ステップ3: カスタムバリデーション

（基本的なバリデーションの後に、より高度な内容へ）
```

**なぜ良いか**:
- **基礎→応用**の流れ
- 学習者の**理解度に合わせて**進める
- **スキップ可能**なオプション要素も提供

#### 7. 実務で役立つベストプラクティス

```markdown
## 💡 ベストプラクティス

1. **メッセージは日本語で**: ユーザー向けのシステムなら母国語で
2. **検証は早い段階で**: Controllerレイヤーで弾く
3. **カスタム例外を活用**: ビジネスロジックのエラーと区別
```

**なぜ良いか**:
- **実務で即使える**知識
- **理由も含めて**説明
- **失敗パターン**も提示

#### 8. トラブルシューティングの充実

```markdown
## 🐛 トラブルシューティング

### エラー: "バリデーションが動作しない"

**原因**: @Validアノテーションを付け忘れ

**解決策**:
1. Controllerのメソッド引数に@Validがあるか確認
2. DTOに正しいバリデーションアノテーションがあるか確認
```

**なぜ良いか**:
- **よくあるミス**を先回り
- **原因と解決策**をセット
- 学習者の**つまずきポイント**を解消

### Step 16から学ぶべき構成のポイント

1. **Why（なぜ）→ What（何を）→ How（どうやって）** の順序
2. **小さく段階的**なステップ分割
3. **視覚的な図解**で概念を説明
4. **動作確認**を各ステップに含める
5. **エラーケース**も具体的に示す
6. **実務的なコメント**と日本語メッセージ
7. **ベストプラクティス**を明示
8. **トラブルシューティング**を充実

### 他のステップ作成時のチェックリスト

- [ ] 導入部分で「なぜこの技術が必要か」を説明しているか
- [ ] 図解やテーブルで視覚的に理解しやすくしているか
- [ ] ステップが小さく分割され、段階的に進められるか
- [ ] 各ステップに動作確認の方法があるか
- [ ] エラーケースも含めて検証方法を示しているか
- [ ] コメントやメッセージが実務的か
- [ ] ベストプラクティスを明示しているか
- [ ] よくあるエラーのトラブルシューティングがあるか

---

## 📚 参考リソース

### 公式ドキュメント

- [Spring Boot Reference Documentation](https://spring.pleiades.io/spring-boot/)
- [Spring Framework API](https://docs.spring.io/spring-framework/docs/current/javadoc-api/)

### スタイルガイド

- [Google Developer Documentation Style Guide](https://developers.google.com/style)
- [Microsoft Writing Style Guide](https://learn.microsoft.com/en-us/style-guide/welcome/)

### Markdown

- [GitHub Flavored Markdown Spec](https://github.github.com/gfm/)

---

## 💬 コントリビューション

カリキュラムの改善提案は大歓迎です！

1. このルールに従ってドキュメントを作成
2. Pull Requestを作成
3. レビューチェックリストを確認済みであることを明記

---

**最終更新**: 2025-10-27
**対象バージョン**: Spring Boot 3.5.7
